{
  "setup-worktree": [
    "echo 'ðŸš€ Setting up FIRE project worktree...'",
    "echo ''",
    "npm install",
    "echo ''",
    "echo 'âœ… Dependencies installed'",
    "echo ''",
    "echo 'ðŸ“‹ Setting up configuration files...'",
    "if [ ! -f .clasp.json ] && [ -f .clasp.json.example ]; then cp .clasp.json.example .clasp.json && echo 'âœ… Created .clasp.json from example'; fi",
    "if [ ! -f .env ] && [ -f .env.example ]; then cp .env.example .env && echo 'âœ… Created .env from example'; fi",
    "echo ''",
    "echo 'ðŸ” Validating project structure...'",
    "if [ ! -f src/apps-script/appsscript.json ]; then echo 'âŒ Missing src/apps-script/appsscript.json'; exit 1; else echo 'âœ… Found appsscript.json'; fi",
    "if ! ls src/apps-script/*.gs 1> /dev/null 2>&1; then echo 'âŒ No .gs files found in src/apps-script/'; exit 1; else echo 'âœ… Found .gs files:'; ls -1 src/apps-script/*.gs | wc -l | xargs echo '  -'; fi",
    "if [ ! -f .claspignore ]; then echo 'âŒ Missing .claspignore'; exit 1; else echo 'âœ… Found .claspignore'; fi",
    "echo ''",
    "echo 'ðŸ” Validating configuration...'",
    "if [ -f .clasp.json ]; then if grep -q 'YOUR_SCRIPT_ID_HERE' .clasp.json 2>/dev/null; then echo 'âš ï¸  .clasp.json has placeholder Script ID - update with your actual Script ID'; else echo 'âœ… .clasp.json has Script ID configured'; fi; node -e \"try { require('./.clasp.json'); console.log('âœ… .clasp.json is valid JSON'); } catch(e) { console.error('âŒ .clasp.json is invalid JSON:', e.message); process.exit(1); }\"; else echo 'âš ï¸  .clasp.json not found'; fi",
    "if [ -f src/apps-script/appsscript.json ]; then node -e \"try { require('./src/apps-script/appsscript.json'); console.log('âœ… appsscript.json is valid JSON'); } catch(e) { console.error('âŒ appsscript.json is invalid JSON:', e.message); process.exit(1); }\"; fi",
    "echo ''",
    "echo 'ðŸ” Checking authentication...'",
    "if [ ! -f ~/.clasprc.json ]; then echo 'âš ï¸  Not authenticated with Google'; echo '   Run: npm run clasp:login'; else echo 'âœ… Google authentication found'; if [ -f .clasp.json ] && ! grep -q 'YOUR_SCRIPT_ID_HERE' .clasp.json 2>/dev/null; then echo '   Testing clasp connection...'; npx clasp status > /dev/null 2>&1 && echo 'âœ… Clasp connection successful' || echo 'âš ï¸  Clasp connection failed (may need to re-authenticate)'; fi; fi",
    "echo ''",
    "echo 'ðŸ” Checking bd (beads) setup...'",
    "if [ -d .beads ] || [ -f .beads/issues.jsonl ] 2>/dev/null; then",
    "  echo 'âœ… bd database found'",
    "  if command -v bd > /dev/null 2>&1; then",
    "    echo 'âœ… bd command available'",
    "    bd sync --flush-only > /dev/null 2>&1 && echo 'âœ… bd sync successful' || echo 'âš ï¸  bd sync failed (may need bd init)'",
    "  else",
    "    echo 'âš ï¸  bd command not found in PATH'",
    "  fi",
    "else",
    "  echo 'âš ï¸  bd not initialized - git hooks may fail on commit'",
    "  echo '   Run: bd init (or bd sync to import from JSONL)'",
    "  echo '   Or temporarily disable hooks: git config core.hooksPath /dev/null'",
    "fi",
    "echo ''",
    "echo 'ðŸ“¦ Checking npm scripts...'",
    "npm run 2>&1 | grep -q 'clasp:push' && echo 'âœ… All npm scripts available' || echo 'âš ï¸  Some npm scripts may be missing'",
    "echo ''",
    "echo 'ðŸ“ Next steps:'",
    "if [ -f .clasp.json ] && grep -q 'YOUR_SCRIPT_ID_HERE' .clasp.json 2>/dev/null; then echo '   1. Update .clasp.json with your Script ID'; fi",
    "if [ ! -f ~/.clasprc.json ]; then echo '   2. Run: npm run clasp:login'; fi",
    "if [ ! -d .beads ] && [ ! -f .beads/issues.jsonl ] 2>/dev/null; then echo '   3. Initialize bd: bd init (or bd sync if JSONL exists)'; fi",
    "echo '   4. Test deployment: npm run deploy'",
    "echo '   5. Open in editor: npm run clasp:open'",
    "echo ''",
    "echo 'ðŸŽ‰ Worktree setup complete!'"
  ]
}
